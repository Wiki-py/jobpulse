<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recruiter Registration | Job Pulse</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-light">
    <!-- Main Registration Container -->
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <!-- Registration Card -->
                <div class="card shadow-lg border-0">
                    <div class="card-body p-4 p-md-5">
                        <!-- Progress Steps -->
                        <div class="steps mb-5">
                            <div class="step-progress">
                                <div class="step-progress-bar" role="progressbar" style="width: 0%"></div>
                            </div>
                            <div class="steps-container">
                                <div class="step active" data-step="1">
                                    <div class="step-icon"><span>1</span></div>
                                    <div class="step-label d-none d-md-block">Company Info</div>
                                </div>
                                <div class="step" data-step="2">
                                    <div class="step-icon"><span>2</span></div>
                                    <div class="step-label d-none d-md-block">Admin Account</div>
                                </div>
                                <div class="step" data-step="3">
                                    <div class="step-icon"><span>3</span></div>
                                    <div class="step-label d-none d-md-block">Verification</div>
                                </div>
                            </div>
                        </div>

                        <!-- Logo and Header -->
                        <div class="text-center mb-4">
                            <img src="images/logo.png" alt="Job Pulse Logo" width="120" class="mb-3">
                            <h3 class="fw-bold text-primary">Register Your Company</h3>
                            <p class="text-muted">Create your recruiter account to start posting jobs</p>
                        </div>

                        <!-- Registration Form -->
                        <form id="recruiterRegistrationForm" novalidate>
                            <!-- Step 1: Company Information -->
                            <div class="step-content" data-step-content="1">
                                <h5 class="mb-4 border-bottom pb-2">Company Information</h5>
                                
                                <!-- Company Name -->
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="companyName" class="form-label">Company Name *</label>
                                        <input type="text" class="form-control" id="companyName" required>
                                        <div class="invalid-feedback">
                                            Please provide your company name
                                        </div>
                                    </div>
                                    
                                    <!-- Industry -->
                                    <div class="col-md-6 mb-3">
                                        <label for="industry" class="form-label">Industry *</label>
                                        <select class="form-select" id="industry" required>
                                            <option value="" selected disabled>Select industry</option>
                                            <option value="IT">Information Technology</option>
                                            <option value="Finance">Finance</option>
                                            <option value="Healthcare">Healthcare</option>
                                            <option value="Education">Education</option>
                                            <option value="Retail">Retail</option>
                                            <option value="Manufacturing">Manufacturing</option>
                                            <option value="Other">Other</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Please select your industry
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Company Details -->
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="establishedDate" class="form-label">Established Date</label>
                                        <input type="date" class="form-control" id="establishedDate">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="employees" class="form-label">Number of Employees</label>
                                        <select class="form-select" id="employees">
                                            <option value="" selected disabled>Select range</option>
                                            <option value="1-10">1-10</option>
                                            <option value="11-50">11-50</option>
                                            <option value="51-200">51-200</option>
                                            <option value="201-500">201-500</option>
                                            <option value="501-1000">501-1000</option>
                                            <option value="1000+">1000+</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <!-- Company Location -->
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="country" class="form-label">Country *</label>
                                        <select class="form-select" id="country" required>
                                            <option value="" selected disabled>Select country</option>
                                            <option value="KENYA">Kenya</option>
                                            <option value="Tanzania">Tanzania</option>
                                            <option value="Rwanda">Rwanda</option>
                                            <option value="Uganda">Uganda</option>
                                            <option value="South Africa">South Africa</option>
                                            <option value="Nigeria">Nigeria</option>
                                            <option value="Other">Other</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Please select your country
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="city" class="form-label">City *</label>
                                        <input type="text" class="form-control" id="city" required>
                                        <div class="invalid-feedback">
                                            Please provide your city
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Company Website -->
                                <div class="mb-3">
                                    <label for="website" class="form-label">Company Website</label>
                                    <div class="input-group">
                                        <span class="input-group-text bg-white">https://</span>
                                        <input type="text" class="form-control" id="website" placeholder="yourcompany.com">
                                    </div>
                                </div>
                                
                                <!-- Company Description -->
                                <div class="mb-4">
                                    <label for="description" class="form-label">Company Description *</label>
                                    <textarea class="form-control" id="description" rows="3" required></textarea>
                                    <div class="invalid-feedback">
                                        Please provide a company description
                                    </div>
                                    <div class="form-text">Briefly describe your company (150-300 words)</div>
                                </div>
                                
                                <!-- Company Logo -->
                                <div class="mb-4">
                                    <label for="logo" class="form-label">Company Logo</label>
                                    <input type="file" class="form-control" id="logo" accept="image/*">
                                    <div class="form-text">Recommended size: 300×300 pixels</div>
                                </div>
                                
                                <div class="d-flex justify-content-end">
                                    <button type="button" class="btn btn-primary next-step">Continue <i class="fas fa-arrow-right ms-2"></i></button>
                                </div>
                            </div>
                            
                            <!-- Step 2: Admin Account -->
                            <div class="step-content d-none" data-step-content="2">
                                <h5 class="mb-4 border-bottom pb-2">Admin Account</h5>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="firstName" class="form-label">First Name *</label>
                                        <input type="text" class="form-control" id="firstName" required>
                                        <div class="invalid-feedback">
                                            Please provide your first name
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="lastName" class="form-label">Last Name *</label>
                                        <input type="text" class="form-control" id="lastName" required>
                                        <div class="invalid-feedback">
                                            Please provide your last name
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="email" class="form-label">Email Address *</label>
                                    <input type="email" class="form-control" id="email" required>
                                    <div class="invalid-feedback">
                                        Please provide a valid email address
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="phone" class="form-label">Phone Number *</label>
                                    <div class="input-group">
                                        <span class="input-group-text bg-white">
                                            <i class="fas fa-phone text-muted"></i>
                                        </span>
                                        <input type="tel" class="form-control" id="phone" required>
                                    </div>
                                    <div class="invalid-feedback">
                                        Please provide your phone number
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="password" class="form-label">Password *</label>
                                        <div class="input-group">
                                            <input type="password" class="form-control" id="password" required>
                                            <button class="btn btn-outline-secondary toggle-password" 
                                                    type="button" data-target="password">
                                                <i class="far fa-eye"></i>
                                            </button>
                                        </div>
                                        <div class="invalid-feedback">
                                            Please create a password
                                        </div>
                                        <div class="password-strength mt-2">
                                            <div class="progress" style="height: 5px;">
                                                <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                                            </div>
                                            <small class="text-muted">Password strength: <span class="strength-text">Weak</span></small>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="confirmPassword" class="form-label">Confirm Password *</label>
                                        <div class="input-group">
                                            <input type="password" class="form-control" id="confirmPassword" required>
                                            <button class="btn btn-outline-secondary toggle-password" 
                                                    type="button" data-target="confirmPassword">
                                                <i class="far fa-eye"></i>
                                            </button>
                                        </div>
                                        <div class="invalid-feedback">
                                            Passwords must match
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mb-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="terms" required>
                                        <label class="form-check-label" for="terms">
                                            I agree to the <a href="#" class="text-primary">Terms of Service</a> and <a href="#" class="text-primary">Privacy Policy</a> *
                                        </label>
                                        <div class="invalid-feedback">
                                            You must agree to the terms
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="d-flex justify-content-between">
                                    <button type="button" class="btn btn-outline-secondary prev-step">
                                        <i class="fas fa-arrow-left me-2"></i> Back
                                    </button>
                                    <button type="button" class="btn btn-primary next-step">
                                        Continue <i class="fas fa-arrow-right ms-2"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Step 3: Verification -->
                            <div class="step-content d-none text-center" data-step-content="3">
                                <div class="mb-4">
                                    <div class="verification-icon bg-primary bg-opacity-10 text-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-4">
                                        <i class="fas fa-envelope fa-3x"></i>
                                    </div>
                                    <h4 class="fw-bold mb-3">Verify Your Email</h4>
                                    <p class="text-muted mb-4">We've sent a verification link to <span class="fw-bold" id="userEmail">your@email.com</span>. Please check your inbox and click the link to verify your account.</p>
                                    
                                    <div class="alert alert-info text-start">
                                        <i class="fas fa-info-circle me-2"></i> If you don't see the email, please check your spam folder or <a href="#" class="alert-link">click here</a> to resend.
                                    </div>
                                    
                                    <div class="mt-4">
                                        <img src="images/email-illustration.svg" alt="Email Illustration" class="img-fluid" style="max-height: 200px;">
                                    </div>
                                </div>
                                
                                <div class="d-flex justify-content-center">
                                    <button type="submit" class="btn btn-success px-4">
                                        <i class="fas fa-check-circle me-2"></i> Complete Registration
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Login Link -->
                <div class="text-center mt-4">
                    <p class="text-muted">Already have an account? 
                        <a href="{% url 'Recruiter Login' %}" class="text-primary fw-semibold">Log in here</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Form steps functionality
            const form = document.getElementById('recruiterRegistrationForm');
            const stepContents = document.querySelectorAll('[data-step-content]');
            const steps = document.querySelectorAll('.step');
            const progressBar = document.querySelector('.step-progress-bar');
            
            let currentStep = 1;
            const totalSteps = 3;
        
        
            // Initialize password toggles
            document.querySelectorAll('.toggle-password').forEach(button => {
                button.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    const input = document.getElementById(targetId);
                    const icon = this.querySelector('i');
                    
                    if (input.type === 'password') {
                        input.type = 'text';
                        icon.classList.remove('fa-eye');
                        icon.classList.add('fa-eye-slash');
                    } else {
                        input.type = 'password';
                        icon.classList.remove('fa-eye-slash');
                        icon.classList.add('fa-eye');
                    }
                });
            });
            
            // Password strength indicator
            const passwordInput = document.getElementById('password');
            if (passwordInput) {
                passwordInput.addEventListener('input', function() {
                    const strengthText = document.querySelector('.strength-text');
                    const progressBar = document.querySelector('.password-strength .progress-bar');
                    const password = this.value;
                    let strength = 0;
                    
                    // Length check
                    if (password.length >= 8) strength += 25;
                    if (password.length >= 12) strength += 25;
                    
                    // Complexity checks
                    if (/[A-Z]/.test(password)) strength += 15;
                    if (/[0-9]/.test(password)) strength += 15;
                    if (/[^A-Za-z0-9]/.test(password)) strength += 20;
                    
                    // Update UI
                    progressBar.style.width = strength + '%';
                    progressBar.classList.remove('bg-danger', 'bg-warning', 'bg-success');
                    
                    if (strength < 40) {
                        progressBar.classList.add('bg-danger');
                        strengthText.textContent = 'Weak';
                    } else if (strength < 70) {
                        progressBar.classList.add('bg-warning');
                        strengthText.textContent = 'Moderate';
                    } else {
                        progressBar.classList.add('bg-success');
                        strengthText.textContent = 'Strong';
                    }
                });
            }
            
            // Next step buttons
            document.querySelectorAll('.next-step').forEach(button => {
                button.addEventListener('click', function() {
                    // Validate current step before proceeding
                    if (validateStep(currentStep)) {
                        if (currentStep < totalSteps) {
                            // Update current step
                            currentStep++;
                            updateSteps();
                            
                            // If moving to final step, update the email display
                            if (currentStep === 3) {
                                const email = document.getElementById('email').value;
                                document.getElementById('userEmail').textContent = email;
                            }
                        } else {
                            // Submit the form if on last step
                            form.submit();
                        }
                    }
                });
            });
            
            // Previous step buttons
            document.querySelectorAll('.prev-step').forEach(button => {
                button.addEventListener('click', function() {
                    if (currentStep > 1) {
                        currentStep--;
                        updateSteps();
                    }
                });
            });
            
            // Form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate all steps before submission
                let isValid = true;
                for (let i = 1; i <= totalSteps; i++) {
                    if (!validateStep(i)) {
                        isValid = false;
                    }
                }
                
                if (isValid) {
                    // Here you would typically submit the form to your Django backend
                    console.log('Form is valid, ready to submit');
                    // Example: You might use fetch() to submit the form data
                    // window.location.href = 'registration-success.html';
                    
                    // For demo purposes, show a success message
                    alert('Registration successful! Please check your email to verify your account.');
                }
            });
            
            // Validate a specific step
            function validateStep(step) {
                let isValid = true;
                const stepContent = document.querySelector(`[data-step-content="${step}"]`);
                
                // Find all required fields in this step
                const requiredInputs = stepContent.querySelectorAll('[required]');
                
                requiredInputs.forEach(input => {
                    if (!input.value.trim()) {
                        input.classList.add('is-invalid');
                        isValid = false;
                    } else {
                        input.classList.remove('is-invalid');
                        
                        // Additional validation for specific fields
                        if (input.id === 'email' && !isValidEmail(input.value)) {
                            input.classList.add('is-invalid');
                            isValid = false;
                        }
                        
                        if (input.id === 'password' && input.value.length < 8) {
                            input.classList.add('is-invalid');
                            isValid = false;
                        }
                        
                        if (input.id === 'confirmPassword' && 
                            input.value !== document.getElementById('password').value) {
                            input.classList.add('is-invalid');
                            isValid = false;
                        }
                    }
                });
                
                return isValid;
            }
            
            // Email validation helper
            function isValidEmail(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            }
            
            // Update step indicators and progress bar
            function updateSteps() {
                // Update step indicators
                steps.forEach(step => {
                    const stepNumber = parseInt(step.getAttribute('data-step'));
                    if (stepNumber < currentStep) {
                        step.classList.add('completed');
                        step.classList.remove('active');
                    } else if (stepNumber === currentStep) {
                        step.classList.add('active');
                        step.classList.remove('completed');
                    } else {
                        step.classList.remove('active', 'completed');
                    }
                });
                
                // Update progress bar
                const progressPercentage = ((currentStep - 1) / (totalSteps - 1)) * 100;
                progressBar.style.width = progressPercentage + '%';
                
                // Show/hide step contents
                stepContents.forEach(content => {
                    const contentStep = parseInt(content.getAttribute('data-step-content'));
                
                    if (contentStep === currentStep) {
                        content.classList.remove('d-none');
                    } else {
                        content.classList.add('d-none');
                    }
                });
            }
        });
    </script>
</body>
</html>